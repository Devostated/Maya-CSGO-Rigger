# Maya Rigger For CSGO Models
Инструмент для Maya 2018 для автоматического создания рига персонажей CSGO

# Setup
- 1 Закиньте MPTools_Plugins.py и MP_Tools в "C:\Program Files\Autodesk\Maya2018\bin\plug-ins"
- 2 Запустите Мауа, зайдите в Windows/Settings/Plug-in Manager, поставьте галочку напротив MPTools_Plugins.py
- 3 Вверху появится новое меню MP Tools, зайдите в него и выберите CSGO RIG Tool.

# How it works
Данная тулза имеет 3 мода создания рига:
  * 1 Character - Создаёт и применяет риг для моделей персонажей (Совместимо только с новым скелетом (custom_models) Ноябрь 2016 и новее)
  * 2 Weapons - Создаёт и применяет риг для оружия (в данной версии инструмента используются только v_ модели)
  * 3 POV - Создаёт и применяет риг для перспективы первого лица, то есть рук. В текущей версии программы не доступно. 
  
![Image alt](https://github.com/mpsterprod/Maya-CSGO-Rigger/raw/master/misc/tool.jpg)
  
Для успешной работы этого инструмента на данном этапе требуется конвертация игровых моделей оружий и персонажей через блендер.
По ссылке далее располагается нужный конвертер: [Source-Blender-Exporter](https://github.com/mpsterprod/Source-Blender-Exporter)
### Character Mode
- 1 Функция: Строка путь до папки с .ModelFromBlender.fbx моделями которые вы сконвертировали ранее.
- 2 Вторая функция - Список моделей к которым применяется риг.
  ### Список можно редактировать
  ```
  * Add Model - Добавить моделей в список 
  * Edit Model - Заменить имеющуюся в списке модель на другую
  * Remove Model - Убрать выбранную модель из списка
  * Clear All - Отчистить список
  ```
- 3 Третья функция - Выбор, какой риг будет применяться к моделям в списке.
- 4 Четвертая функция - Позволяет выбрать между созданием ригов для всех моделей в папке указанной в 1-й функции или созданием ригов для всех моделей указанных в списке 2-й функции. 
- 5 Пятая функция - Путь сохранения моделей с ригом.

### Weapons Mode
Аналогично вкладке Character.
Стоит помнить о том что здесь риги применимы исключительно к моделям типа v_, а не w_. 

### Pov Mode
В текущей версии программы недоступно. 

# Generate Rigs
+ Во все модах принцип и параметры одинаковы.
+ Есть параметр Create Skeletal Mesh - скрипт создаст папку (CSGO Skeletal Mesh) и создаст SkeletalMesh в .fbx для каждой модели в списке. Критично для последующего переноса анимаций на SkeletalMesh, поскольку экспорт SkeletalMesh из модели к которой уже применён риг несёт с собой ряд проблем.

![Image alt](https://github.com/mpsterprod/Maya-CSGO-Rigger/raw/master/misc/tool_generate.jpg)

# Animations Weapons and Character
#### [Watch barabulyko video](https://www.youtube.com/channel/UCXvI8JRMsskPQrpQoSLeeBA)

# Warning 
+ 1 **Если происходят какие либо ошибки - перезапустите Maya!**
+ 2 На данный момент список ригов оружия ограничен. Проверяйте папку *"weapons fbx models"*, возможно в будущем там станет больше моделей.
+ 3 Данная версия сохраняет файлы ригов только в MayaAscii ```(*.ma)```
+ 4 Во избежание утечки памяти стоит перезапускать Мауа после каждой масштабной генерации!
